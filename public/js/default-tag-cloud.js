(self.webpackChunk=self.webpackChunk||[]).push([[574],{3997:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,h=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){h=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(h)throw s}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const i={name:"TagCloud",data:function(){return{width:300,height:300,tagsNum:40,RADIUS:200,speedX:Math.PI/360,speedY:Math.PI/360,tags:[]}},computed:{CX:function(){return this.width/2},CY:function(){return this.height/2}},created:function(){this.$store.dispatch("indexTags");for(var t=[],e=0;e<this.tagsNum;e++){var n={},r=(2*(e+1)-1)/this.tagsNum-1,a=Math.acos(r),i=a*Math.sqrt(this.tagsNum*Math.PI);n.text=e+"tag",n.x=this.CX+this.RADIUS*Math.sin(a)*Math.cos(i),n.y=this.CY+this.RADIUS*Math.sin(a)*Math.sin(i),n.z=this.RADIUS*Math.cos(a),n.href="https://imgss.github.io";var s=Math.floor(256*Math.random()),o=Math.floor(256*Math.random());Math.floor(256*Math.random());t.color="rgb("+s+","+o+","+i+")",t.push(n)}this.tags=t,this.$watch((function(){return this.$store.getters.getTagsLoadStatus()}),(function(e,n){if(2==this.$store.getters.getArticlesLoadStatus())for(var r=this.$store.getters.getTags,a=0;a<this.tagsNum;a++)r[a]&&(t[a].text=r[a].name,t[a].color=r[a].color)}))},mounted:function(){var t=this;setInterval((function(){t.rotateX(t.speedX),t.rotateY(t.speedY)}),17)},methods:{rotateX:function(t){var e,n=Math.cos(t),a=Math.sin(t),i=r(this.tags);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=(s.y-this.CY)*n-s.z*a+this.CY,h=s.z*n+(s.y-this.CY)*a;s.y=o,s.z=h}}catch(t){i.e(t)}finally{i.f()}},rotateY:function(t){var e,n=Math.cos(t),a=Math.sin(t),i=r(this.tags);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=(s.x-this.CX)*n-s.z*a+this.CX,h=s.z*n+(s.x-this.CX)*a;s.x=o,s.z=h}}catch(t){i.e(t)}finally{i.f()}},listener:function(t){var e=t.clientX-this.CX,n=t.clientY-this.CY;this.speedX=1e-4*e>0?Math.min(2e-5*this.RADIUS,1e-4*e):Math.max(2e-5*-this.RADIUS,1e-4*e),this.speedY=1e-4*n>0?Math.min(2e-5*this.RADIUS,1e-4*n):Math.max(2e-5*-this.RADIUS,1e-4*n)}}};const s=(0,n(1900).Z)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:"100%",height:t.height},on:{mousemove:function(e){return t.listener(e)}}},t._l(t.tags,(function(e){return n("a",[n("text",{attrs:{fill:e.color,x:e.x,y:e.y,"font-size":600/(600-e.z)*15,"fill-opacity":(400+e.z)/600}},[t._v(t._s(e.text))])])})),0)}),[],!1,null,null,null).exports}}]);