(self.webpackChunk=self.webpackChunk||[]).push([[592],{3672:(t,i,a)=>{"use strict";a.d(i,{Z:()=>s});var o=a(3645),e=a.n(o)()((function(t){return t[1]}));e.push([t.id,'.tagcloud-all[data-v-865f427e]{position:relative;margin-top:150px}.tagcloud-all a[data-v-865f427e]{position:absolute;top:0;left:0;color:#fff;font-weight:700;text-decoration:none;padding:3px 6px}.tagcloud-all a[data-v-865f427e]:hover{color:red;letter-spacing:2px}.tagcloud-all .clearfix[data-v-865f427e]:after{content:"";display:block;height:0;line-height:0;visibility:hidden;clear:both}',""]);const s=e},302:(t,i,a)=>{"use strict";a.r(i),a.d(i,{default:()=>u});const o={name:"tagcloud",data:function(){return{conTop:{backgroundImage:"url("+this.$store.getters.getApp.img_tags_cosmic+")",backgroundSize:"100% 85%",backgroundPosition:"left 0 top 64px"},radius:120,dtr:Math.PI/180,d:300,mcList:[],active:!1,lasta:1,lastb:1,distr:!0,tspeed:.5,size:250,mouseX:0,mouseY:0,howElliptical:1,oList:null,oA:null,sa:0,ca:0,sb:0,cb:0,sc:0,cc:0}},methods:{jump:function(t){this.$router.push({path:"/tags/"+t+"/blog"})},getRandomNum:function(){return Math.floor(256*Math.random())},sineCosine:function(t,i,a){this.sa=Math.sin(t*this.dtr),this.ca=Math.cos(t*this.dtr),this.sb=Math.sin(i*this.dtr),this.cb=Math.cos(i*this.dtr),this.sc=Math.sin(a*this.dtr),this.cc=Math.cos(a*this.dtr)},positionAll:function(){var t=this;this.$nextTick((function(){for(var i=0,a=0,o=t.mcList.length,e=[],s=document.createDocumentFragment(),n=0;n<t.tagList.length;n++)e.push(t.oA[n]);e.sort((function(){return Math.random()<.5?1:-1}));for(var c=0;c<e.length;c++)s.appendChild(e[c]);t.oList.appendChild(s);for(var u=1;u<o+1;u++)t.distr?(i=Math.acos((2*u-1)/o-1),a=Math.sqrt(o*Math.PI)*i):(i=Math.random()*Math.PI,a=Math.random()*(2*Math.PI)),t.mcList[u-1].cx=t.radius*Math.cos(a)*Math.sin(i),t.mcList[u-1].cy=t.radius*Math.sin(a)*Math.sin(i),t.mcList[u-1].cz=t.radius*Math.cos(i),t.oA[u-1].style.left=t.mcList[u-1].cx+t.oList.offsetWidth/2-t.mcList[u-1].offsetWidth/2+"px",t.oA[u-1].style.top=t.mcList[u-1].cy+t.oList.offsetHeight/2-t.mcList[u-1].offsetHeight/2+"px"}))},update:function(){var t=this;this.$nextTick((function(){var i,a;if(t.active&&(i=-Math.min(Math.max(-t.mouseY,-t.size),t.size)/t.radius*t.tspeed,a=Math.min(Math.max(-t.mouseX,-t.size),t.size)/t.radius*t.tspeed,t.lasta=i,t.lastb=a,!(Math.abs(i)<=.01&&Math.abs(a)<=.01))){t.sineCosine(i,a,0);for(var o=0;o<t.mcList.length;o++){var e=t.mcList[o].cx,s=t.mcList[o].cy*t.ca+t.mcList[o].cz*-t.sa,n=t.mcList[o].cy*t.sa+t.mcList[o].cz*t.ca,c=e*t.cb+n*t.sb,u=s,r=e*-t.sb+n*t.cb,l=c*t.cc+u*-t.sc,m=c*t.sc+u*t.cc,d=r;t.mcList[o].cx=l,t.mcList[o].cy=m,t.mcList[o].cz=d;var h=t.d/(t.d+d);t.mcList[o].x=t.howElliptical*l*h-2*t.howElliptical,t.mcList[o].y=m*h,t.mcList[o].scale=h,t.mcList[o].alpha=h,t.mcList[o].alpha=(t.mcList[o].alpha-.6)*(10/6)}t.doPosition(),t.depthSort()}}))},doPosition:function(){var t=this;this.$nextTick((function(){for(var i=t.oList.offsetWidth/2,a=t.oList.offsetHeight/2,o=0;o<t.mcList.length;o++)t.oA[o].style.left=t.mcList[o].cx+i-t.mcList[o].offsetWidth/2+"px",t.oA[o].style.top=t.mcList[o].cy+a-t.mcList[o].offsetHeight/2+"px",t.oA[o].style.fontSize=Math.ceil(12*t.mcList[o].scale/2)+8+"px",t.oA[o].style.opacity=t.mcList[o].alpha}))},depthSort:function(){var t=this;this.$nextTick((function(){for(var i=[],a=0;a<t.oA.length;a++)i.push(t.oA[a]);i.sort((function(t,i){return t.cz>i.cz?-1:t.cz<i.cz?1:0}));for(var o=0;o<i.length;o++)i[o].style.zIndex=o}))},query:function(){var t=this,i=[{name:"标签1",url:"www.baidu.com"},{name:"标签2",url:"www.baidu.com"},{name:"标签3",url:"www.baidu.com"},{name:"标签4",url:"www.baidu.com"},{name:"标签5",url:"www.baidu.com"},{name:"标签6",url:"www.baidu.com"},{name:"标签7",url:"www.baidu.com"},{name:"标签8",url:"www.baidu.com"},{name:"标签9",url:"www.baidu.com"},{name:"标签10",url:"www.baidu.com"},{name:"标签11",url:"www.baidu.com"},{name:"标签12",url:"www.baidu.com"},{name:"标签13",url:"www.baidu.com"},{name:"标签14",url:"www.baidu.com"},{name:"标签15",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签16",url:"www.baidu.com"},{name:"标签17",url:"www.baidu.com"}];i.forEach((function(i){i.color="rgb("+t.getRandomNum()+","+t.getRandomNum()+","+t.getRandomNum()+")"})),this.tagList=i,this.onReady()},onReady:function(){var t=this;this.$nextTick((function(){t.oList=t.$refs.tagcloudall,t.oA=t.oList.getElementsByTagName("a");for(var i=null,a=0;a<t.oA.length;a++)(i={}).offsetWidth=t.oA[a].offsetWidth,i.offsetHeight=t.oA[a].offsetHeight,t.mcList.push(i);t.sineCosine(0,0,0),t.positionAll(),t.oList.onmouseover=function(){t.active=!1},t.oList.onmouseout=function(){t.active=!0},t.oList.onmousemove=function(i){var a=window.event||i;t.mouseX=a.clientX-(t.oList.offsetLeft+t.oList.offsetWidth/2),t.mouseY=a.clientY-(t.oList.offsetTop+t.oList.offsetHeight/2),t.mouseX/=5,t.mouseY/=5},setInterval((function(){t.update()}),30)}))}},created:function(){this.$store.dispatch("indexTags"),this.$watch((function(){return this.$store.getters.getTagsLoadStatus()}),(function(t,i){2===this.$store.getters.getTagsLoadStatus()&&this.onReady()}))},mounted:function(){this.mouseX=this.$refs.tagcloudall.getBoundingClientRect().x,this.mouseY=this.$refs.tagcloudall.getBoundingClientRect().y,this.active=!0},computed:{tagList:function(){return this.$store.getters.getTags},app_config:function(){return this.$store.getters.getApp}}};var e=a(3379),s=a.n(e),n=a(3672),c={insert:"head",singleton:!1};s()(n.Z,c);n.Z.locals;const u=(0,a(1900).Z)(o,(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-container",[a("v-card",{style:t.conTop,attrs:{outlined:"",tile:"",height:"400"}},[a("v-card-title",[t._v("标签云")]),t._v(" "),a("v-divider",{staticClass:"mx-4"}),t._v(" "),a("div",{ref:"tagcloudall",staticClass:"tagcloud-all"},t._l(t.tagList,(function(i){return a("a",{style:"color:"+i.color+";top: 0;left: 0;filter:none;",on:{click:function(a){return t.jump(i.id)}}},[t._v(t._s(i.name))])})),0)],1)],1)}),[],!1,null,"865f427e",null).exports}}]);